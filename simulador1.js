const Lista = 
[
  {
    "orgao": "PolÃ­cia Civil",
    "data": "01/01/2024",
    "valor": 5500.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia RodoviÃ¡ria Federal",
    "data": "02/01/2024",
    "valor": 6000.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "PolÃ­cia Militar",
    "data": "03/01/2024",
    "valor": 4500.00,
    "status": "sucesso"
  },
  {
    "orgao": "Corpo de Bombeiros",
    "data": "04/01/2024",
    "valor": 7000.00,
    "status": "sucesso"
  },
  {
    "orgao": "Guarda Municipal",
    "data": "05/01/2024",
    "valor": 3500.00,
    "status": "falha",
    "motivo": "DocumentaÃ§Ã£o incompleta"
  },
  {
    "orgao": "Receita Federal",
    "data": "06/01/2024",
    "valor": 8000.00,
    "status": "sucesso"
  },
  {
    "orgao": "MinistÃ©rio PÃºblico",
    "data": "07/01/2024",
    "valor": 9000.00,
    "status": "falha",
    "motivo": "Erro no sistema"
  },
  {
    "orgao": "Defesa Civil",
    "data": "08/01/2024",
    "valor": 4000.00,
    "status": "sucesso"
  },
  {
    "orgao": "Detran",
    "data": "09/01/2024",
    "valor": 5000.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia Federal",
    "data": "10/01/2024",
    "valor": 6500.00,
    "status": "falha",
    "motivo": "Falta de recursos"
  },
  {
    "orgao": "Ibama",
    "data": "11/01/2024",
    "valor": 5500.00,
    "status": "sucesso"
  },
  {
    "orgao": "Anvisa",
    "data": "12/01/2024",
    "valor": 6000.00,
    "status": "sucesso"
  },
  {
    "orgao": "Inmetro",
    "data": "13/01/2024",
    "valor": 3000.00,
    "status": "falha",
    "motivo": "Dados incorretos"
  },
  {
    "orgao": "Cetesb",
    "data": "14/01/2024",
    "valor": 7000.00,
    "status": "sucesso"
  },
  {
    "orgao": "Susep",
    "data": "15/01/2024",
    "valor": 8000.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "PolÃ­cia Civil",
    "data": "16/01/2024",
    "valor": 5200.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia RodoviÃ¡ria Federal",
    "data": "17/01/2024",
    "valor": 6100.00,
    "status": "falha",
    "motivo": "Erro humano"
  },
  {
    "orgao": "PolÃ­cia Militar",
    "data": "18/01/2024",
    "valor": 4600.00,
    "status": "sucesso"
  },
  {
    "orgao": "Corpo de Bombeiros",
    "data": "19/01/2024",
    "valor": 7100.00,
    "status": "sucesso"
  },
  {
    "orgao": "Guarda Municipal",
    "data": "20/01/2024",
    "valor": 3600.00,
    "status": "falha",
    "motivo": "Sistema fora do ar"
  },
  {
    "orgao": "Receita Federal",
    "data": "21/01/2024",
    "valor": 8100.00,
    "status": "sucesso"
  },
  {
    "orgao": "MinistÃ©rio PÃºblico",
    "data": "22/01/2024",
    "valor": 9100.00,
    "status": "falha",
    "motivo": "Recursos insuficientes"
  },
  {
    "orgao": "Defesa Civil",
    "data": "23/01/2024",
    "valor": 4100.00,
    "status": "sucesso"
  },
  {
    "orgao": "Detran",
    "data": "24/01/2024",
    "valor": 5100.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia Federal",
    "data": "25/01/2024",
    "valor": 6600.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "Ibama",
    "data": "26/01/2024",
    "valor": 5600.00,
    "status": "sucesso"
  },
  {
    "orgao": "Anvisa",
    "data": "27/01/2024",
    "valor": 6100.00,
    "status": "sucesso"
  },
  {
    "orgao": "Inmetro",
    "data": "28/01/2024",
    "valor": 3100.00,
    "status": "falha",
    "motivo": "Dados incorretos"
  },
  {
    "orgao": "Cetesb",
    "data": "29/01/2024",
    "valor": 7100.00,
    "status": "sucesso"
  },
  {
    "orgao": "Susep",
    "data": "30/01/2024",
    "valor": 8100.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "PolÃ­cia Civil",
    "data": "31/01/2024",
    "valor": 5300.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia RodoviÃ¡ria Federal",
    "data": "01/01/2024",
    "valor": 6200.00,
    "status": "falha",
    "motivo": "Erro humano"
  },
  {
    "orgao": "PolÃ­cia Militar",
    "data": "02/01/2024",
    "valor": 4700.00,
    "status": "sucesso"
  },
  {
    "orgao": "Corpo de Bombeiros",
    "data": "03/01/2024",
    "valor": 7200.00,
    "status": "sucesso"
  },
  {
    "orgao": "Guarda Municipal",
    "data": "04/01/2024",
    "valor": 3700.00,
    "status": "falha",
    "motivo": "Sistema fora do ar"
  },
  {
    "orgao": "Receita Federal",
    "data": "05/01/2024",
    "valor": 8200.00,
    "status": "sucesso"
  },
  {
    "orgao": "MinistÃ©rio PÃºblico",
    "data": "06/01/2024",
    "valor": 9200.00,
    "status": "falha",
    "motivo": "Recursos insuficientes"
  },
  {
    "orgao": "Defesa Civil",
    "data": "07/01/2024",
    "valor": 4200.00,
    "status": "sucesso"
  },
  {
    "orgao": "Detran",
    "data": "08/01/2024",
    "valor": 5200.00,
    "status": "sucesso"
  },
  {
    "orgao": "PolÃ­cia Federal",
    "data": "09/01/2024",
    "valor": 6700.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "Ibama",
    "data": "10/01/2024",
    "valor": 5700.00,
    "status": "sucesso"
  },
  {
    "orgao": "Anvisa",
    "data": "11/01/2024",
    "valor": 6200.00,
    "status": "sucesso"
  },
  {
    "orgao": "Inmetro",
    "data": "12/01/2024",
    "valor": 3200.00,
    "status": "falha",
    "motivo": "Dados incorretos"
  },
  {
    "orgao": "Cetesb",
    "data": "13/01/2024",
    "valor": 7200.00,
    "status": "sucesso"
  },
  {
    "orgao": "Susep",
    "data": "14/01/2024",
    "valor": 8200.00,
    "status": "falha",
    "motivo": "Problemas tÃ©cnicos"
  },
  {
    "orgao": "PolÃ­cia Civil",
    "data": "15/01/2024",
    "valor": 5400.00,
    "status": "sucesso"
  }
];

let Numeroexecucao = 1;

for(let elemento of Lista){
    console.log(`Repasse de nÃºmero ${Numeroexecucao}`);
    console.log(elemento);
    Numeroexecucao++;
}
// #1

let Numerofinal = Numeroexecucao - 1;
console.log(`O total de repasses Ã© ${Numerofinal}`);

// #2
// Total de repasses bem sussedidos
const Sucessos=Lista.filter(item => item.status === `sucesso`);
let SucessosTotal = 1
for (const item of Sucessos) {
    console.log(`Repasse com sucesso de nÃºmero ${SucessosTotal}:`);
    console.log(item); 
    SucessosTotal++; 
}
let SucessoFinal = SucessosTotal -1;
console.log(`O total de repasses com sucesso Ã© ${SucessoFinal}`)

// Por OrgÃ£o
const OrgaoSucesso = Lista
  .filter(item => item.status === "sucesso").reduce((acumulo, item) => {
    acumulo[item.orgao] = (acumulo[item.orgao] || 0) + 1;
    return acumulo;
  }, {});

const VROsucesso = Object.entries(OrgaoSucesso).map(([orgao, total]) => ({ orgao, total }));

console.log(`Total de repasses de sucesso por orgÃ£os:`)
console.log(VROsucesso);

// Valor total de repasses bem sussedidos
let ValorTotal=0;
for (const repasse of Sucessos) {
  Valortotal=+ repasse.valor;

};
for (const item of Sucessos) {
  console.log(item.valor)
};
console.log(`O valor total dos repasses de sucesso Ã© ${Valortotal}`)

// Por OrgÃ£o
const ValoresOrgaoS = Lista
.filter(item => item.status === "sucesso").reduce((acumulo, item) =>{
  acumulo[item.orgao]= (acumulo[item.orgao] || 0)+ item.valor;
  return acumulo
}, {}) 
const VOsucesso = Object.entries(ValoresOrgaoS).map(([orgao, total]) => ({orgao, total}));

console.log(`O valor total que cada orgÃ£o recebeu foi`)
console.log(ValoresOrgao)


// Total de repasses com falhas
const Falhas=Lista.filter(item => item.status === `falha`);
let FalhasTotal = 1
for (const item of Falhas) {
    console.log(`Repasse com falha de nÃºmero ${FalhasTotal}:`);
    console.log(item); 
    FalhasTotal++; 
}
let FalhaFinal = FalhasTotal -1;
console.log(`O total de repasses com falhas Ã© ${FalhaFinal}`)

// Por OrgÃ£o
const OrgaoFalha = Lista
  .filter(item => item.status === "falha").reduce((acumulo, item) => {
    acumulo[item.orgao] = (acumulo[item.orgao] || 0) + 1;
    return acumulo;
  }, {});

const ROfalha = Object.entries(OrgaoFalha).map(([orgao, total]) => ({ orgao, total }));

console.log(`Total de repasses de falhas por orgÃ£os:`)
console.log(ROfalha);

//Por Motivo
const Motivos=Lista.filter(item => item.status === "falha").map(item => item.motivo).reduce((acumulo, item) => {
    acumulo[item.orgao] = (acumulo[item.orgao] || 0) + 1;
    return acumulo;
  }, {});
const RMfalha = Object.entries(OrgaoFalha).map(([motivo, total]) => ({ motivo, total }));

console.log(`Total de repasses de falhas por motivos`)
console.log(RMfalha)

// Valor total de repasses com falhas
let ValortotalF=0;
for (const repasse of Falhas) {
  ValortotalF= ValortotalF + repasse.valor;

};
for (const item of Falhas) {
  console.log(item.valor)
};
console.log(`O valor total dos repasses Com falhas Ã© ${ValortotalF}`)

// Por OrgÃ£o
const OValoresFalhas = Lista
.filter(item => item.status === "falha").reduce((acumulo, item) =>{
  acumulo[item.orgao]= (acumulo[item.orgao] || 0)+ item.valor;
  return acumulo
}, {}) 
const RVOfalhas = Object.entries(OValoresFalhas).map(([orgao, total]) => ({orgao, total}));

console.log(`O valor total que cada orgÃ£o recebeu foi`)
console.log(OValoresFalhas)

//Por Motivo




//#3
// Detalhes do repasse com maior valor
const MaiorValor = Lista.reduce((maior, item) => {
  return item.valor > maior.valor ? item : maior;
});

//*console.log(MaiorValor)

// Detalhes do repasse com menor valor
const MenorValor = Lista.reduce((menor, item) => {
  return item.valor < menor.valor ? item : menor;
});

console.log(MenorValor)

// Dias com mais repasses

const PorDia = Lista.reduce((acumulo, item) =>{
  const Dia= item.data;
  acumulo[Dia]= acumulo[Dia] ||+1;
  return acumulo;
}, {});

console.log(`Quantidade de repasses no dia:`);
console.log(PorDia);

// OrgÃ£o com mais repasses
const PorOrgaos = Lista.reduce((acumulo, item) =>{
  const orgao= item.orgao;
  acumulo[orgao]= acumulo[orgao] ||+1;
  return acumulo;
}, {});

console.log(`Quantidade de repasses por orgÃ£os:`);
console.log(PorOrgaos);

// OrgÃ£o com mais repasses de sucesso

const PorOrgaoSucesso = Lista.filter(item => item.status === "sucesso").reduce((acumulo, item) => {
    acumulo[item.orgao] = (acumulo[item.orgao] || 0) + 1;
    return acumulo;
  }, {});

console.log(`Quantidade de repasses por orgÃ£os de sucesso:`);
console.log(PorOrgaoSucesso);

// OrgÃ£os com mais falhas

const PorOrgaoFalha = Lista.filter(item => item.status === "falha").reduce((acumulo, item) => {
    acumulo[item.orgao] = (acumulo[item.orgao] || 0) + 1;
    return acumulo;
  }, {});

console.log(`Quantidade de repasses por orgÃ£os com falhas:`);
console.log(PorOrgaoFalha);

// Motivos de falhas

const FalhaMotivos = Lista.filter(item => item.status === "falha").reduce((acumulo, item) => {
    acumulo[item.motivo] = (acumulo[item.motivo] || 0) + 1;
    return acumulo;
  }, {});


console.log(`Quantidade de motivos de falha:`)
console.log(FalhaMotivos);

// #4

let NomeOrgao= `Susep`; //ALTERAR NOME DESEJADO
const DadosProcessados = Lista.filter(item => item.orgao === NomeOrgao);
if (DadosProcessados.length === 0) {
    console.log(`Nenhuma transaÃ§Ã£o encontrada para este Ã³rgÃ£o.`);
} else {
    DadosProcessados.forEach((item, index) => {
        console.log(`\nðŸ“Œ TransaÃ§Ã£o ${index + 1}:`);
        console.log(`   Ã“rgÃ£o:  ${item.orgao}`);
        console.log(`   Data:   ${item.data}`);
        console.log(`   Valor:  R$ ${item.valor.toFixed(2)}`);
        console.log(`   Status: ${item.status}`);

        if (item.status === "falha") {
            console.log(`   Motivo da falha: ${item.motivo}`);
        }
    });
}
